Семнадцатая(17). Вопросы
1)C++. Работа с двоичными файлами

Обработка двоичных файлов в C++
Для того чтобы записать данные в двоичный файл, необходимо:
    1. описать файловую переменную типа FAIL * с помощью оператора FILE *filename, здесь filename — имя переменной, где будет храниться указатель на файл.
    2. открыть файл с помощью функции fopen
    3. записать информацию в файл с помощью функции fwrite
    4. закрыть файл с помощью функции fclose
Для того чтобы считать данные из двоичного файла, необходимо:
    1. описать переменную типа FILE *
    2. открыть файл с помощью функции fopen
    3. считать необходимую информацию из файла с помощью функции fread, при этом следить за тем достигнут ли конец файла.
    4. закрыть файл с помощью функции fclose
Рассмотрим основные функции, необходимые для работы с двоичными файлами.
Для открытия файла предназначена функция fopen.
FILE *fopen(const *filename, const char *mode)
Здесь filename — строка, в которой хранится полное имя открываемого файла, mode — строка, определяющая режим работы с файлом; возможны следующие значения:


    • «rb» — открываем двоичный файл в режиме чтения;
    • «wb» — создаем двоичный файл для записи; если он существует, то его содержимое очищается;
    • «ab» — создаем или открываем двоичный файл для дозаписи в конец файла;
    • «rb+» — открываем существующий двоичный файл в режиме чтения и записи;
    • «wb+» — открываем двоичный файл в режиме чтения и записи, существующий файл очищается;
    • «ab+» — двоичный файл открывается или создается для исправления существующий информации и добавления новой в конец файла.

Для закрытия файла предназначена функция fclose:
int fclose(FILE *filename);
Она возвращает 0 при успешном закрытие файла и EOF в противном случае.
Функция remove предназначена для удаления файлов:
int remove(const char *filename);
Эта функция удаляет с диска файл с именем filenema. Удаляемый файл должен быть закрыт. Функция возвращает ненулевое значение, если файл не удалось удалить.
Для переименования файлов предназначена функция rename:
int rename(const char *oldfilename, const char *newfilename);

Функция fread считывает из файла filename в массив ptr n элементов размера size. Функция возвращает количество считанных элементов. После чтения из файла его указатель смещается на n*size байт.

Запись в двоичный файл осуществляется с помощью функции fwrite:
fwrite(const void *ptr, size, n, FILE *filename);
Функция fwrite записывает в файл filename из массива ptr n элементов размера size. Функция возвращает количество записанных элементов. После записи информации в файл указатель смещается на n*size байт.

Для контроля достижения конца файла есть функция feof:
int feof(FILE *filename);

int fseek(FILE *filename, long int offset, int origin);
Функция устанавливает указатель текущий позиции файла F в соответствии со значением начала отсчета origin и смещения offset. Параметр offset равен количеству байтов, на которые будет смещен указатель файла относительно начала отсчета, заданного параметром origin. В качестве значения для параметра origin должно быть взято одно из следующих значений отсчета смещения offset, определенных в заголовке stdio.h:
    • SEEK_SET — с начала файла;
    • SEEK_CUR — с текущей позиции;
    • SEEK_END — с конца файла.

